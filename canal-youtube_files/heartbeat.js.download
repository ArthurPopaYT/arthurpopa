(function(g){var window=this;'use strict';var eU5=function(Q,z){if(!Number.isFinite(Q))return String(Q);Q=String(Q);var H=Q.indexOf(".");H===-1&&(H=Q.length);var f=Q[0]==="-"?"-":"";f&&(Q=Q.substring(1));return f+(0,g.Qus)("0",Math.max(0,z-H))+Q},llJ=function(){return{G:"svg",
T:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},W:[{G:"path",T:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},RUt=function(){return{G:"svg",
T:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},W:[{G:"path",T:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},zZs=function(Q){typeof Q==="number"?(this.date=Q6B(Q,0,1),$0(this,1)):g.wc(Q)?(this.date=Q6B(Q.getFullYear(),Q.getMonth(),Q.getDate()),$0(this,Q.getDate())):(this.date=new Date(g.Qs()),Q=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),$0(this,Q))},Q6B=function(Q,z,H){z=new Date(Q,z,H);
Q>=0&&Q<100&&z.setFullYear(z.getFullYear()-1900);return z},$0=function(Q,z){Q.getDate()!=z&&Q.date.setUTCHours(Q.date.getUTCHours()+(Q.getDate()<z?1:-1))},jC=function(Q,z){g.hf.call(this,Q,{G:"div",
J:"ytp-reminder-menu",T:{role:"menu",tabindex:"-1"},W:[{G:"div",J:"ytp-reminder-menu-contents",W:[{G:"div",J:"ytp-reminder-menu-items"}]}]},100,!0);this.Z=z;this.L=[];this.menuPopupRenderer=void 0;this.items=this.Mc("ytp-reminder-menu-items");this.hide()},HWs=function(Q){return(Q.menuPopupRenderer&&Q.menuPopupRenderer.items||[]).reduce(function(z,H){H&&H.menuServiceItemRenderer&&z.push(H.menuServiceItemRenderer);
return z},[])},FW=function(Q){g.m.call(this,{G:"div",
W:[{G:"button",lT:["ytp-offline-slate-button","ytp-button"],W:[{G:"div",J:"ytp-offline-slate-button-icon",BI:"{{icon}}"},{G:"div",J:"ytp-offline-slate-button-text",BI:"{{text}}"}]}]});this.K=Q;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.B=void 0;this.D=this.Z=null;(this.j=this.Mc("ytp-offline-slate-button"))&&this.X(this.j,"click",this.Y);this.hide()},bWu=function(Q,z,H){!Q.toggleButtonRenderer&&z&&z.toggleButtonRenderer?Q.toggleButtonRenderer=z.toggleButtonRenderer:
z&&z.toggleButtonRenderer||(Q.toggleButtonRenderer=null);
!Q.upcomingEventReminderButtonRenderer&&H&&g.K(H,fWm)?Q.upcomingEventReminderButtonRenderer=g.K(H,fWm):H&&g.K(H,fWm)||(Q.upcomingEventReminderButtonRenderer=null);x0(Q)},x0=function(Q){if(Q.toggleButtonRenderer){var z=Q.toggleButtonRenderer;
if(z.isToggled){var H=z.toggledText?g.pa(z.toggledText):"";Q.update({text:H,icon:Lvm(z.toggledIcon)})}else H=z.defaultText?g.pa(z.defaultText):"",Q.update({text:H,icon:Lvm(z.defaultIcon)});Q.show()}else Q.upcomingEventReminderButtonRenderer?(z=u0s(Q))?(H=z.text?g.pa(z.text):"",Q.update({text:H,icon:Lvm(z.icon)}),Q.show()):Q.hide():Q.hide()},Xnu=function(Q,z,H){Q.D||(Q.D=new g.Q7(Q.K.C().N7));
var f={context:g.MR(Q.D.config_||g.qR())};g.ox()&&(f.context.clientScreenNonce=g.ox());f.params=H;g.zw(Q.D,z,f,{timeout:5E3,onSuccess:function(){Q.upcomingEventReminderButtonRenderer&&Q.B&&(Q.upcomingEventReminderButtonRenderer.currentState=Q.B,Q.B=void 0)},
onError:function(){SoB(Q)},
onTimeout:function(){SoB(Q)}})},SoB=function(Q){Q.toggleButtonRenderer?(Q.toggleButtonRenderer.isToggled=!Q.toggleButtonRenderer.isToggled,x0(Q)):Q.upcomingEventReminderButtonRenderer&&(Q.B=void 0,x0(Q))},Lvm=function(Q){if(!Q)return null;
switch(Q.iconType){case "NOTIFICATIONS":return llJ();case "NOTIFICATIONS_NONE":return RUt();case "NOTIFICATIONS_ACTIVE":return g.Oc();default:return null}},u0s=function(Q){if(!Q.upcomingEventReminderButtonRenderer)return null;
var z=Q.B||Q.upcomingEventReminderButtonRenderer.currentState;Q=g.n(Q.upcomingEventReminderButtonRenderer.states||[]);for(var H=Q.next();!H.done;H=Q.next())if((H=g.K(H.value,vMB))&&H.state===z&&H.button&&g.K(H.button,g.Bc))return g.K(H.button,g.Bc);return null},ypY=function(Q){g.m.call(this,{G:"div",
J:"ytp-offline-slate",W:[{G:"div",J:"ytp-offline-slate-background"},{G:"div",J:"ytp-offline-slate-bar",W:[{G:"span",J:"ytp-offline-slate-icon",W:[{G:"svg",T:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},W:[{G:"path",T:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{G:"circle",T:{cx:"12",cy:"12",r:"3"}}]}]},{G:"span",J:"ytp-offline-slate-messages",W:[{G:"div",J:"ytp-offline-slate-main-text",T:{"aria-label":"{{label}}"},BI:"{{mainText}}"},{G:"div",J:"ytp-offline-slate-subtitle-text",BI:"{{subtitleText}}"}]},{G:"span",J:"ytp-offline-slate-buttons"}]},{G:"button",lT:["ytp-offline-slate-close-button","ytp-button"],W:[g.G8()]},{G:"button",lT:["ytp-offline-slate-open-button","ytp-button"],W:[g.Zv()]}]});var z=this;this.api=Q;this.Z=this.B=null;this.background=this.Mc("ytp-offline-slate-background");
this.L=this.Mc("ytp-offline-slate-bar");this.j=new g.e_(function(){g.SK(z.L,"ytp-offline-slate-bar-fade")},15E3);
this.Y=!1;this.D=new g.e_(function(){g.SK(z.element,"ytp-offline-slate-collapsed")},15E3);
g.W(this,this.D);g.W(this,this.j);this.countdownTimer=new g.e_(this.iM,1E3,this);this.X(Q,"presentingplayerstatechange",this.hD);this.X(Q,"livestatedata",this.Jh);this.X(this.Mc("ytp-offline-slate-close-button"),"click",function(){g.SK(z.element,"ytp-offline-slate-collapsed")});
this.X(this.Mc("ytp-offline-slate-open-button"),"click",function(){g.vO(z.element,"ytp-offline-slate-collapsed")});
this.hide();Q=this.getVideoData();Q.getPlayerResponse()&&(Q=Q.getPlayerResponse().playabilityStatus)&&this.Jh(Q);Q=this.api.getPresentingPlayerType()===8&&!this.getVideoData().ax;var H=this.api.getPresentingPlayerType()===8;g.qP(this.element,"ytp-offline-slate-premiere-trailer",Q);g.qP(this.element,"ytp-offline-slate-hide-background",H)},qoO=function(Q,z,H){if(z){var f=z.subtitleText!=null?g.pa(z.subtitleText):"";
H=H?H:z.mainText!=null?g.pa(z.mainText):"";var b,L,u,X;z=(X=(b=z.mainText)==null?void 0:(L=b.accessibility)==null?void 0:(u=L.accessibilityData)==null?void 0:u.label)!=null?X:H;Q.update({mainText:H,subtitleText:f,label:z});g.qP(Q.element,"ytp-offline-slate-single-text-line",!f);g.qP(Q.L,"ytp-offline-slate-bar-hidden",!H&&!f)}},Oq=function(Q,z){var H=(0,g.NV)();
this.module="heartbeat";this.trigger=Q;this.Z=z;this.L=H},nMT=function(Q){g.g3.call(this,Q);
var z=this;this.Y=!1;this.N=0;this.S=!1;this.B=new g.e_(function(){MBT(z)},0);
this.Z=this.heartbeatParams=null;this.D=!1;this.j=new g.O0(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.Ze=new g.Q7(void 0);this.attestationResponse=Promise.resolve(void 0);this.U=Promise.resolve(void 0);this.utcOffsetMinutes=-(new zZs).getTimezoneOffset();this.L=new g.Bt(this);g.W(this,this.B);g.W(this,this.L);CuT(this);tBJ(this);this.L.X(Q,"heartbeatparams",this.xj);this.L.X(Q,"presentingplayerstatechange",this.Mw);this.L.X(Q,"videoplayerreset",this.DB);this.L.X(Q,g.bc("heartbeat"),
this.onCueRangeEnter);this.D&&this.Z&&EMm(this,void 0,this.Z);var H=new g.HD(1E3,0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),f=new g.HD(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});Q.UZ([H,f]);pnR(this)},pnR=function(Q){var z=Q.getVideoData();
!z.V("use_rta_for_player")&&z.ox&&(z=z.botguardData)&&g.BB(z,Q.player.C())},gMR=function(Q){var z,H;
return g.B(function(f){if(f.Z==1)return g.Y(f,g.Ybv(),2);if(!f.B)return Q.sequenceNumber>=3?f.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):f.return(void 0);z=Q.getVideoData();H={};return f.return(g.ALJ((H.cpn=z.clientPlaybackNonce,H.encryptedVideoId=z.videoId||"",H),1500))})},CuT=function(Q){var z=Q.getVideoData();
if(z.ox)if(z.V("use_rta_for_player"))Q.attestationResponse=gMR(Q);else if(z=new g.ISv(z),g.AK.isInitialized()||Q.sequenceNumber>=3){var H=Promise,f=H.resolve,b=null;if(z.videoData.iF){var L=g.AOp(z);if(L){b={};var u={};L=L.split("&");L=g.n(L);for(var X=L.next();!X.done;X=L.next())X=X.value.split("="),X.length===2&&(u[X[0]]=X[1]);u.r1a&&(b.webResponse=u.r1a);u.r1c&&(b.error=ZWB[Number(u.r1c)]);b.challenge=z.videoData.iF}}Q.attestationResponse=f.call(H,b||void 0)}},GAB=function(Q){var z=Q.getVideoData();
if(!g.Zm(Q.getVideoData())||z.t0)return!1;if(z.S){Q=z.S.flavor==="playready"&&z.V("html5_innertube_heartbeats_for_playready");var H=z.S.flavor==="widevine"&&z.V("html5_innertube_heartbeats_for_widevine");z=g.Pj(z.S)&&z.V("html5_innertube_heartbeats_for_fairplay");return!(Q||H||z)}return!0},$aJ=function(Q){if(GAB(Q))return!!Q.heartbeatParams;
var z=Q.getVideoData();return!g.Zm(Q.getVideoData())||z.ov||z.Ga?!!z.heartbeatToken:!1},oN=function(Q,z){if(!Q.B.isActive()&&Q.Y){var H=Q.getVideoData();
if($aJ(Q)||H.isLivePlayback){if(z===void 0)if(Q.S)if(Q.D)z=7500;else{var f;z=((f=Q.heartbeatParams)==null?0:f.interval)?Q.heartbeatParams.interval*1E3:Q.getVideoData().bK||6E4}else z=1E3;Q.B.start(z)}}},OWs=function(Q,z,H){z.X2&&(H=g.Ve(H,{internalipoverride:z.X2}));
var f={cpn:z.clientPlaybackNonce};z.contextParams&&(f.context_params=z.contextParams);z.yE&&(f.kpt=z.yE);H=g.Ve(H,f);g.JF(H,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(b){if(!Q.B.isActive()&&JV(Q)){Q.j.reset();Q.sequenceNumber++;b=b.responseText;var L=j6R(b);if(L){Q.player.F$("onHeartbeat",L);var u=L.status==="ok"?L.stop_heartbeat?2:0:L.status==="stop"?1:L.status==="live_stream_offline"?0:-1}else u=(u=b.match(FvR))?u[1]==="0"?0:1:-1;xat(Q,void 0,L,b,u)}},
onError:function(b){JV(Q)&&Nw(Q,!0,"net-"+b.status)},
onTimeout:function(){JV(Q)&&Nw(Q,!0,"timeout")},
withCredentials:!0})},MBT=function(Q){var z,H;
g.B(function(f){z=Q.player.C();H=Q.getVideoData();if(!JV(Q))return f.return();if(GAB(Q))return oMx(Q,z,H),f.bT(0);CuT(Q);return g.Y(f,Jp5(Q,z,H),0)})},oMx=function(Q,z,H){var f;
if((f=Q.heartbeatParams)!=null&&f.url){var b=g.Ve(Q.heartbeatParams.url,{request_id:g.Pvp()});H.wh&&(b=g.Ve(b,{vvt:H.wh}),H.mdxEnvironment&&(b=g.Ve(b,{mdx_environment:H.mdxEnvironment})));g.zZ(z,H.oauthToken).then(function(L){L&&(b=g.Ve(b,{access_token:L}));OWs(Q,H,b)})}},JV=function(Q){var z=Q.getVideoData();
return Q.player.getPresentingPlayerType()===3||g.w(Q.player.getPlayerStateObject(Q.getPlayerType()),4)?!1:$aJ(Q)||z.isLivePlayback?!0:(IN(Q),!1)},Jp5=function(Q,z,H){var f,b,L,u,X,v,y,q,M,C,t,E,G,x,J,I,r,U,D,T;
return g.B(function(k){if(k.Z==1)return f="player/heartbeat",L={videoId:H.videoId,sequenceNumber:Q.sequenceNumber,heartbeatServerData:(b=Q.wh)!=null?b:H.heartbeatServerData},Q.U=Q.attestationResponse,H.ox?g.Y(k,Q.U,3):k.bT(2);k.Z!=2&&(L.attestationResponse=k.B);u=g.LR(H);v=(X=u.client)!=null?X:{};v.utcOffsetMinutes=Q.utcOffsetMinutes;L.context=u;L.cpn=H.clientPlaybackNonce;if(y=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)v.timeZone=y;q={heartbeatChecks:[]};
if(M=H.getPlayerResponse())H.heartbeatToken&&(L.heartbeatToken=H.heartbeatToken),(C=M.playabilityStatus)&&(t=C.liveStreamability)&&t.liveStreamabilityRenderer&&q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");H.heartbeatToken&&q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.FE(z)&&(q.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),E=NBx(Q),G={},E!==null&&(G.clientPlayerPositionUtcMillis=E),J=(x=Q.player.xt())==null?void 0:g.A4(x),r=((I=J)==null?void 0:I.freePreviewWatchedDuration)||
0,r>0&&(G.freePreviewWatchedDuration={seconds:""+r}),q.unpluggedParams=G);L.heartbeatRequestParams=q;H.isLivePlayback?(U=NBx(Q),U!==null&&(L.playbackState||(L.playbackState={}),L.playbackState.playbackPosition={utcTimeMillis:U})):z.V("enable_heartbeat_vod_playback_position")&&(D=IWL(Q),D!==null&&(L.playbackState||(L.playbackState={}),L.playbackState.playbackPosition={streamTimeMillis:D}));Q.player.publish("heartbeatRequest",L);T={timeout:3E4,onSuccess:function(bL){if(!Q.B.isActive()&&JV(Q)){var SY=
Q.getVideoData(),Q9=SY.ox&&Q.U==null,V;SY.ox=!((V=bL.heartbeatAttestationConfig)==null||!V.requiresAttestation)||Q9;Q9=bL.playabilityStatus;V=JSON.stringify(Q9)||"{}";bL.authenticationMismatch&&Q.player.On("authshear",{});var R=-1;var Z=bL.playabilityStatus;Z&&(Q.player.F$("onHeartbeat",Z),Z.status==="OK"?R=bL.stopHeartbeat?2:0:Z.status==="UNPLAYABLE"?R=1:Z.status==="LIVE_STREAM_OFFLINE"&&(R=0));Q.sequenceNumber&&R===-1||Q.j.reset();Q.sequenceNumber++;bL.heartbeatServerData&&(Q.wh=bL.heartbeatServerData);
SY.va=bL;(Z=bL.playerCueRangeSet)&&g.ka(SY,Z);bL.playerCueRanges&&bL.playerCueRanges.length>0&&(SY.cueRanges=bL.playerCueRanges);var d,h8;((d=bL.progressBarConfig)==null?0:d.progressBarStartPosition)&&((h8=bL.progressBarConfig)==null?0:h8.progressBarEndPosition)&&(SY.progressBarStartPosition=bL.progressBarConfig.progressBarStartPosition,SY.progressBarEndPosition=bL.progressBarConfig.progressBarEndPosition);SY.compositeLiveIngestionOffsetToken=bL.compositeLiveIngestionOffsetToken;bL.compositeLiveStatusToken!==
SY.compositeLiveStatusToken&&(SY.compositeLiveStatusToken=bL.compositeLiveStatusToken);SY.publish("dataupdated");xat(Q,bL,Q9,V,R)}},
onError:function(bL){JV(Q)&&Nw(Q,!0,"net-"+bL.status)},
onTimeout:function(){JV(Q)&&Nw(Q,!0,"timeout")}};
g.zZ(z,g.hM(H)).then(function(bL){bL&&(T.Bx="Bearer "+bL);g.zw(Q.Ze,f,L,T)});
g.Gu(k)})},xat=function(Q,z,H,f,b){b===-1?(H="decode "+g.g7(f,3),Nw(Q,!1,H)):b===2?(IN(Q),Q.S=!0):(Q.N=0,Q.B.stop(),b===1?(Q.S=!1,H&&H.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&Q.player.C4(!0),b="pe."+(H==null?void 0:H.errorCode)+";ps."+(H==null?void 0:H.status),Q.player.VN("heartbeat.stop",2,Q.q8(f),b),g.y5("heartbeatActionPlayerHalted",Aps(H)),(z==null?0:z.videoTransitionEndpoint)&&H&&(z=z.videoTransitionEndpoint,(f=g.K(z,g.ew))&&You(Q,f,H,{itct:z==null?void 0:z.clickTrackingParams}))):(Q.S=
!0,f=0,Q.D&&H&&(f=EMm(Q,z,H),Q.player.publish("livestatedata",H)),f?oN(Q,f):oN(Q)))},EMm=function(Q,z,H){var f=H.liveStreamability&&H.liveStreamability.liveStreamabilityRenderer,b=!(!f||!(f.switchStreamsImmediately||f.transitionTiming&&f.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
z=rps(Q,z,f);var L=Q.getVideoData(),u=Q.player.getPlayerStateObject(Q.getPlayerType()),X=u.isPlaying()&&!g.JM(L)&&!Q.player.isAtLiveHead(Q.getPlayerType());if(L.C().vz()){var v,y=((v=Q.player.aB())==null?void 0:v.TL())||{};y.status=H.status||"";y.dvr=""+ +X;y["switch"]=""+ +b;y.ended=""+ +!(!f||!f.displayEndscreen);Q.player.On("heartbeat",y)}if(X&&!b)return z;b=f&&f.streamTransitionEndpoint&&g.K(f.streamTransitionEndpoint,g.ew);if((f&&f.transitionTiming)==="STREAM_TRANSITION_TIMING_AT_STREAM_END")Q.getVideoData().transitionEndpointAtEndOfStream=
b;else if(b&&You(Q,b,H))return z;if(H.status.toUpperCase()==="OK"){b=f&&f.broadcastId;v=Q.Z&&Q.Z.liveStreamability&&Q.Z.liveStreamability.liveStreamabilityRenderer&&Q.Z.liveStreamability.liveStreamabilityRenderer.broadcastId;X=b!==v&&b!=null;if(!g.FD(L)||X){var q={video_id:L.videoId};L.qf&&(q.is_live_destination="1");q.disable_watch_next=!0;q.raw_watch_next_response=L.getWatchNextResponse();q.autonav_state=L.autonavState;q.oauth_token=L.oauthToken;q.force_gvi=L.kc;q.Xr=L.Xr;L.j&&(q.vss_credentials_token=
L.j,q.vss_credentials_token_type=L.ZK);L.wh&&(q.vvt=L.wh);f=void 0;g.FD(L)?X&&(f=new Oq("broadcastIdChanged",v+","+b),Q.Mk("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",H)):(b&&(f=new Oq("formatsReceived",""+b)),Q.Mk("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",H));Q.player.loadVideoByPlayerVars(q,void 0,void 0,void 0,f);return z}Q.player.PS("heartbeat",Q.getPlayerType())}f&&f.displayEndscreen&&(Q.offlineSlate?
(Q=Q.offlineSlate,Q.Y=!0,Q.LH&&Q.api.MA()):u.isBuffering()&&(L=((q=Q.player.aB())==null?void 0:q.TL())||{},Q.player.On("hbse",L,!0),Q.player.MA(),Q.player.F$("onLiveMediaEnded",H)));return z},rps=function(Q,z,H){return Q.player.V("web_player_use_heartbeat_poll_delay_ms")&&(Q=Number(z==null?void 0:z.pollDelayMs))?Q:(H=Number(H==null?void 0:H.pollDelayMs))?H:0},Nw=function(Q,z,H){var f=Q.player.C();
if(!Q.B.isActive()){Q.B.stop();Q.N++;var b=z?"heartbeat.net":"heartbeat.servererror";var L=Q.getVideoData();if(L.NE||z&&!g.Zm(Q.getVideoData())&&!$aJ(Q)&&L.isLivePlayback)L=!1;else{var u,X;((X=Q.heartbeatParams)==null?0:X.retries)?u=Q.heartbeatParams.retries:u=L.Q0||5;L=Q.N>=u}L?(g.y5("heartbeatActionPlayerHalted",z?{enforcedPolicyToHaltOnNetworkFailure:!0}:Aps()),(z=Q.getVideoData())&&z.isLivePlayback?Q.player.VN(b,1,"Redarea videoclipului s-a \u00eentrerupt. \u00cencearc\u0103 din nou.",H):Q.player.VN(b,
1,"Ne pare r\u0103u, a ap\u0103rut o eroare la licen\u021bierea acestui videoclip.",H)):(f.V("html5_report_non_fatal_heartbeat_error")&&Q.player.WQ(b,{msg:H}),oN(Q,Q.j.getValue()),g.oK(Q.j))}},Aps=function(Q){var z={enforcedPolicyToHaltOnNetworkFailure:!1};
Q&&(z.serializedServerContext=Q.additionalLoggingData);return z},IN=function(Q){Q.N=0;
Q.B.stop();Q.S=!1;Q.sequenceNumber=0},tBJ=function(Q){var z=Q.getVideoData(),H=Q.player.C();
if(z.isLivePlayback)if(g.lD(H.S)){Q.D=!0;Q.Y=!0;if(!g.OV(H)||g.FE(H))Q.offlineSlate=new ypY(Q.player),g.W(Q,Q.offlineSlate),g.sZ(Q.player,Q.offlineSlate.element,4);(z=z.getPlayerResponse())&&z.playabilityStatus&&(Q.Z=z.playabilityStatus);var f;((f=Q.Z)==null?void 0:f.status)!=="UNPLAYABLE"&&(Q.Z?(f=rps(Q,void 0,Q.Z.liveStreamability&&Q.Z.liveStreamability.liveStreamabilityRenderer))?oN(Q,f):oN(Q,7500):oN(Q,1E3))}else Q.player.VN("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK","nolive.1");
else g.kO(z.De,"heartbeat")&&Q.player.PS("heartbeat",Q.getPlayerType())},You=function(Q,z,H,f){var b=z&&z.videoId;
return b?(Q.player.cN(b,Object.assign({},{autonav:"1"},f||{}),void 0,!0,!0,z,g.hM(Q.getVideoData())),Q.Mk("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",H),!0):!1},NBx=function(Q){return(Q=Q.player.getProgressState(Q.getPlayerType()).ingestionTime)&&isFinite(Q)?""+Math.floor(Q*1E3):null},IWL=function(Q){return(Q=Q.player.getCurrentTime(Q.getPlayerType()))&&isFinite(Q)?""+Math.floor(Q*1E3):null},j6R=function(Q){try{var z=JSON.parse(Q);
return z!=null?z:void 0}catch(H){}},s6O={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5};
s6O={ERAS:["\u00ee.Hr.","d.Hr."],ERANAMES:["\u00eenainte de Hristos","dup\u0103 Hristos"],NARROWMONTHS:"IFMAMIIASOND".split(""),STANDALONENARROWMONTHS:"IFMAMIIASOND".split(""),MONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),STANDALONEMONTHS:"ianuarie februarie martie aprilie mai iunie iulie august septembrie octombrie noiembrie decembrie".split(" "),SHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),
STANDALONESHORTMONTHS:"ian. feb. mar. apr. mai iun. iul. aug. sept. oct. nov. dec.".split(" "),WEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),STANDALONEWEEKDAYS:"duminic\u0103 luni mar\u021bi miercuri joi vineri s\u00e2mb\u0103t\u0103".split(" "),SHORTWEEKDAYS:"dum. lun. mar. mie. joi vin. s\u00e2m.".split(" "),STANDALONESHORTWEEKDAYS:"dum. lun. mar. mie. joi vin. s\u00e2m.".split(" "),NARROWWEEKDAYS:"DLMMJVS".split(""),STANDALONENARROWWEEKDAYS:"DLMMJVS".split(""),
SHORTQUARTERS:["trim. I","trim. II","trim. III","trim. IV"],QUARTERS:["trimestrul I","trimestrul al II-lea","trimestrul al III-lea","trimestrul al IV-lea"],AMPMS:["a.m.","p.m."],DATEFORMATS:["EEEE, d MMMM y","d MMMM y","d MMM y","dd.MM.y"],TIMEFORMATS:["HH:mm:ss zzzz","HH:mm:ss z","HH:mm:ss","HH:mm"],DATETIMEFORMATS:["{1} 'la' {0}","{1} 'la' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:0,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:6};
var ZWB=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],BBs={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.S=zZs.prototype;g.S.Ku=s6O.FIRSTDAYOFWEEK;g.S.jO=s6O.FIRSTWEEKCUTOFFDAY;
g.S.clone=function(){var Q=new zZs(this.date);Q.Ku=this.Ku;Q.jO=this.jO;return Q};
g.S.getFullYear=function(){return this.date.getFullYear()};
g.S.getYear=function(){return this.getFullYear()};
g.S.getMonth=function(){return this.date.getMonth()};
g.S.getDate=function(){return this.date.getDate()};
g.S.getTime=function(){return this.date.getTime()};
g.S.getDay=function(){return this.date.getDay()};
g.S.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.S.getUTCMonth=function(){return this.date.getUTCMonth()};
g.S.getUTCDate=function(){return this.date.getUTCDate()};
g.S.getUTCDay=function(){return this.date.getDay()};
g.S.getUTCHours=function(){return this.date.getUTCHours()};
g.S.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.S.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.S.set=function(Q){this.date=new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())};
g.S.setFullYear=function(Q){this.date.setFullYear(Q)};
g.S.setYear=function(Q){this.setFullYear(Q)};
g.S.setMonth=function(Q){this.date.setMonth(Q)};
g.S.setDate=function(Q){this.date.setDate(Q)};
g.S.setTime=function(Q){this.date.setTime(Q)};
g.S.setUTCFullYear=function(Q){this.date.setUTCFullYear(Q)};
g.S.setUTCMonth=function(Q){this.date.setUTCMonth(Q)};
g.S.setUTCDate=function(Q){this.date.setUTCDate(Q)};
g.S.add=function(Q){if(Q.years||Q.months){var z=this.getMonth()+Q.months+Q.years*12,H=this.getYear()+Math.floor(z/12);z%=12;z<0&&(z+=12);a:{switch(z){case 1:var f=H%4!=0||H%100==0&&H%400!=0?28:29;break a;case 5:case 8:case 10:case 3:f=30;break a}f=31}f=Math.min(f,this.getDate());this.setDate(1);this.setFullYear(H);this.setMonth(z);this.setDate(f)}Q.days&&(H=this.getYear(),z=H>=0&&H<=99?-1900:0,Q=new Date((new Date(H,this.getMonth(),this.getDate(),12)).getTime()+Q.days*864E5),this.setDate(1),this.setFullYear(Q.getFullYear()+
z),this.setMonth(Q.getMonth()),this.setDate(Q.getDate()),$0(this,Q.getDate()))};
g.S.jH=function(Q){return!(!Q||this.getYear()!=Q.getYear()||this.getMonth()!=Q.getMonth()||this.getDate()!=Q.getDate())};
g.S.toString=function(){var Q=this.getFullYear(),z=Q<0?"-":Q>=1E4?"+":"";return[z+eU5(Math.abs(Q),z?6:4),eU5(this.getMonth()+1,2),eU5(this.getDate(),2)].join("")+""};
g.S.valueOf=function(){return this.date.valueOf()};var Puu=new g.NU("addUpcomingEventReminderEndpoint");var aWJ=new g.NU("removeUpcomingEventReminderEndpoint");var Uax=new g.NU("updateUpcomingEventReminderButtonStateCommand");var fWm=new g.NU("upcomingEventReminderButtonRenderer"),vMB=new g.NU("upcomingEventReminderButtonStateRenderer");g.p(jC,g.hf);
jC.prototype.updateMenuItems=function(){var Q=this,z=HWs(this),H=0;H=0;for(var f={};H<z.length;f={Co:void 0},H++){var b=this.L[H];b||(b=new g.m({G:"div",J:"ytp-reminder-menu-item",T:{role:"menuitem",tabindex:"0"},W:[{G:"div",J:"ytp-reminder-menu-item-icon",BI:"{{icon}}"},{G:"div",J:"ytp-reminder-menu-item-label",BI:"{{text}}"}]}),f.Co=H,b.listen("click",function(u){return function(){var X=u.Co;Q.fH();X=HWs(Q)[X];Q.publish("reminderMenuItemClicked",X.serviceEndpoint||X.command)}}(f)),b.Gv(this.items),
this.L[H]=b);
var L=z[H];f=null;switch(L.icon&&L.icon.iconType){case "NOTIFICATIONS":f=llJ();break;case "NOTIFICATIONS_NONE":f=RUt();break;case "NOTIFICATIONS_ACTIVE":f=g.Oc()}L=L.text?g.pa(L.text):"";b.update({icon:f,text:L})}for(;H<this.L.length;)this.L.pop().dispose();H===0?this.fH():this.ir(this.Z)};
jC.prototype.hide=function(){this.Z&&this.Z.removeAttribute("aria-haspopup");g.hf.prototype.hide.call(this)};
jC.prototype.show=function(){this.Z&&this.Z.setAttribute("aria-haspopup","true");g.hf.prototype.show.call(this)};
jC.prototype.zv=function(){g.Xx(this.L);g.hf.prototype.zv.call(this)};g.p(FW,g.m);
FW.prototype.Y=function(){if(this.toggleButtonRenderer){var Q=this.toggleButtonRenderer;Q.isToggled?this.L(Q.toggledServiceEndpoint):this.L(Q.defaultServiceEndpoint);Q.isToggled=!Q.isToggled;x0(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.Z&&this.Z.LH)this.Z.fH();else{var z=u0s(this);z&&this.L(z.serviceEndpoint||z.command);z=((Q=g.K(z==null?void 0:z.command,g.np))==null?void 0:Q.commands)||[];a:{Q=g.n(z);for(var H=Q.next();!H.done;H=Q.next()){var f=z=void 0;if(H=(z=g.K(H.value,g.yCx))==
null?void 0:(f=z.popup)==null?void 0:f.menuPopupRenderer){Q=H;break a}}Q=void 0}this.Z||(this.Z=new jC(this.K,this.j),this.Z.Gv(this.element),g.W(this,this.Z),this.Z.subscribe("reminderMenuItemClicked",this.L,this));z=this.Z;z.menuPopupRenderer=Q;z.updateMenuItems()}};
FW.prototype.L=function(Q){var z=g.K(Q,Puu),H=g.K(Q,aWJ);if(Q&&(z||H)){if(z){var f=z;var b="notification/add_upcoming_event_reminder"}else H&&(f=H,b="notification/remove_upcoming_event_reminder");if(b&&f&&f.params)for(Xnu(this,b,f.params),Q=g.n(f.commands||[]),z=Q.next();!z.done;z=Q.next())if((z=z.value)&&g.K(z,Uax)){this.B=g.K(z,Uax).state;x0(this);break}}};g.p(ypY,g.m);g.S=ypY.prototype;g.S.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.S.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.S.Jh=function(Q){var z,H,f=Q==null?void 0:(z=Q.liveStreamability)==null?void 0:(H=z.liveStreamabilityRenderer)==null?void 0:H.offlineSlate;if(f){this.B=Q;z=f.liveStreamOfflineSlateRenderer;z.canShowCountdown?this.iM():qoO(this,z);var b,L,u,X;if(H=Q==null?void 0:(b=Q.liveStreamability)==null?void 0:(L=b.liveStreamabilityRenderer)==null?void 0:(u=L.offlineSlate)==null?void 0:(X=u.liveStreamOfflineSlateRenderer)==null?void 0:X.thumbnail){b=0;L=null;u=H.thumbnails;for(X=0;X<u.length;X++)u[X].width>
b&&(b=u[X].width||0,L=u[X].url);L&&(this.background.style.backgroundImage="url("+L+")")}else this.background.style.backgroundImage="";z.actionButtons||z.reminderButton?(this.Z||(this.Z=new FW(this.api),this.Z.Gv(this.Mc("ytp-offline-slate-buttons")),g.W(this,this.Z)),bWu(this.Z,z.actionButtons&&z.actionButtons[0],z.reminderButton)):this.Z&&bWu(this.Z,null,null);this.B=Q}else this.B=null;this.hD()};
g.S.hD=function(Q){if(this.api.getPresentingPlayerType()===8)var z=!0;else{var H=this.api.getPlayerStateObject(),f=this.getVideoData();z=f.isLivePlayback&&(H.isBuffering()||g.w(H,2)||g.w(H,64));var b=f.autonavState===2&&g.w(H,2);H=H.isPlaying()&&!g.JM(f)&&!this.api.isAtLiveHead(void 0,!0);z=z&&!H&&!b}z&&this.B?this.LH?(Q==null?0:g.Ex(Q,2))&&!this.getVideoData().ax&&(g.vO(this.element,"ytp-offline-slate-collapsed"),this.D.stop(),g.vO(this.L,"ytp-offline-slate-bar-fade"),this.j.start()):(this.show(),
this.D.start(),this.api.publish("offlineslatestatechange"),this.Y&&this.api.MA()):this.LH&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.S.iM=function(){var Q,z,H,f,b=(Q=this.B)==null?void 0:(z=Q.liveStreamability)==null?void 0:(H=z.liveStreamabilityRenderer)==null?void 0:(f=H.offlineSlate)==null?void 0:f.liveStreamOfflineSlateRenderer;b&&(Q=Math.floor(g.Qs()/1E3),z=b.canShowCountdown&&Number(b.scheduledStartTime),!z||z<=Q?(qoO(this,b),this.countdownTimer.stop()):(qoO(this,b,g.xU(z-Q)),g.lp(this.countdownTimer)))};
g.S.zv=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.m.prototype.zv.call(this)};Oq.prototype.B=function(Q){return this.trigger&&Q.trigger?this.module===Q.module&&this.trigger===Q.trigger&&this.Z===Q.Z:!1};
Oq.prototype.isExpired=function(){return(0,g.NV)()-this.L>6E4};
Oq.prototype.toString=function(){return this.module+":"+this.trigger+":"+this.Z};g.p(nMT,g.g3);g.S=nMT.prototype;g.S.zv=function(){IN(this);this.player.Ys("heartbeat");g.g3.prototype.zv.call(this)};
g.S.onCueRangeEnter=function(){this.Y=!0;oN(this,2E3)};
g.S.xj=function(Q){this.heartbeatParams=Q;oN(this,2E3)};
g.S.Mw=function(Q){var z;this.player.getPresentingPlayerType()!==8&&((z=this.Z)==null?void 0:z.status)!=="UNPLAYABLE"&&(g.w(Q.state,2)||g.w(Q.state,64)?(IN(this),this.D&&(this.Y=!0,oN(this,1E3))):(g.w(Q.state,1)||g.w(Q.state,8))&&oN(this,2E3))};
g.S.DB=function(){this.player.getPresentingPlayerType()!==3&&oN(this,2E3)};
g.S.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.S.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.S.Ti=function(Q){switch(Q){case 4:case 3:return!1}return!0};
g.S.Mk=function(Q,z,H){Q={trigger:Q,reason:z};H&&(Q.serializedServerContext=H.additionalLoggingData);g.y5("heartbeatActionPlayerTransitioned",Q)};
g.S.q8=function(Q){var z="LICENSE",H=j6R(Q);if(H)return H.reason||g.WE[z]||"";if(Q=Q.match(FvR))if(Q=Number(Q[1]))z=(z=BBs[Q.toString()])?z:"LICENSE";return g.WE[z]||""};
g.S.MZ=function(){return!!this.offlineSlate&&this.offlineSlate.LH};
var FvR=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.nA("heartbeat",nMT);})(_yt_player);
